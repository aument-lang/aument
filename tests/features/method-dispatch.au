class A{}
class B{}
class C{}
class D{}

def (self: A) dispatch() { print 1; }
def (self: B) dispatch() { print 2; }
def (self: C) dispatch() { print 3; }
def (self: D) dispatch() { print 4; }

a = new A;
b = new B;
c = new C;
d = new D;
dispatch(a);
dispatch(b);
dispatch(c);
dispatch(d);